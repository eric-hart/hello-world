{"version":3,"sources":["test/route/greeting/index.js"],"names":["test","beforeEach","devCommand","process","spawn","devPromise","Promise","resolve","reject","stdout","on","data","stderr","then","response","console","log","reason"],"mappings":";;AAAA;;AAEA;;AAEA;;;;AAEAA,aAAKC,UAAL,CAAgB,MAAOD,IAAP,IAAgB;AAC9B,QAAME,UAAU,GAAGC,uBAAQC,KAAR,CAAc,MAAd,EAAsB,CAAC,KAAD,EAAQ,KAAR,CAAtB,CAAnB;;AAEA,QAAMC,UAAU,GAAG,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAClDN,IAAAA,UAAU,CAACO,MAAX,CAAkBC,EAAlB,CAAqB,MAArB,EAA8BC,IAAD,IAAU;AACrCJ,MAAAA,OAAO,CAACI,IAAD,CAAP;AACD,KAFD;AAGAT,IAAAA,UAAU,CAACU,MAAX,CAAkBF,EAAlB,CAAqB,MAArB,EAA8BC,IAAD,IAAU;AACrCH,MAAAA,MAAM,CAACG,IAAD,CAAN;AACD,KAFD;AAGD,GAPkB,CAAnB;AAQA,QAAMN,UAAN;AACD,CAZD;;AAcA,kBAAK,4BAAL,EAAmC,MAAOL,IAAP,IAAgB;AACjD,0BAAM,gCAAN,EACGa,IADH,CACSC,QAAD,IAAc;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,GALH,EAKMC,MAAD,IAAY;AACbF,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYC,MAAZ;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,GATH;AAUD,CAXD","sourceRoot":"/Users/crux/Templates/my-koa","sourcesContent":["import fetch from 'node-fetch';\n\nimport process from 'child_process';\n\nimport test from 'ava';\n\ntest.beforeEach(async (test) => {\n  const devCommand = process.spawn('yarn', ['run', 'dev']);\n\n  const devPromise = new Promise((resolve, reject) => {\n    devCommand.stdout.on('data', (data) => {\n      resolve(data);\n    });\n    devCommand.stderr.on('data', (data) => {\n      reject(data);\n    });\n  });\n  await devPromise;\n});\n\ntest('PATH:/greeting should get ', async (test) => {\n  fetch('http://localhost:3000/greeting')\n    .then((response) => {\n      console.log('+++++++++');\n      console.log(response);\n      console.log('+++++++++');\n    }, (reason) => {\n      console.log('+++++++++');\n      console.log(reason);\n      console.log('+++++++++');\n    });\n});\n"]}